<!DOCTYPE html>
<html>
<!---
  Programmer : William McDonald
  Date modified : 09/25/18
--->
<head>
  <title> William McDonald </title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://williammcdonald.github.io/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://williammcdonald.github.io/css/custom.min.css">
  <link rel="stylesheet" href="https://williammcdonald.github.io/css/nat.css">
  <script src="https://williammcdonald.github.io/js/jquery.min.js"></script>
  <script src="https://williammcdonald.github.io/js/bootstrap.min.js"></script>
  <script src="https://williammcdonald.github.io/js/scrollspy.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://williammcdonald.github.io/js/jquery.js"></script>
</head>

<body>

  <div class="header"></div>

<!-- the web page layout -->
<div class="container-fluid text-center">
	<div class="row content">
        <!-- Left -->
		<div class="col-sm-2 sidenav">
      <h3> Contact Me </h3>
      <p> This is currently a Work in progress, and does not work </p>
      <p> If you would like to contact me, contact me at wmcdonald2k.git@gmail.com </p>
      <a href="contact/index.html" class="btn btn-primary disabled" role="button"> Form </a>
		</div>
        <!-- Middle -->
		<div class="col-sm-8 text-center">
      <h3> Instructions </h3>
        <p> Can you help me find the data in this <a href="problemFiles/LittleSchoolBus/littleschoolbus.bmp" target=_blank>littleschoolbus.bmp</a>? </p>
      <h3> Hints </h3>
        <p> Look at least significant bit encoding!! </p>
      <h3> Solution </h3>
        <p> So far, this is one of the most difficult obstacles I have overcame. I have heard of Least Significant Bit Encoding before, but I'd never messed with it. I just finished it, and it took from 3:00 PM Sunday October 8, 2017 until 8:00 pm Sunday October 8, 2017. I'm glad I finally got the right flag. The python code below is what I used to solve it, I know there's no documentation, that is simply because I was just trying to get it done. </p>
        <p> I will push one with documentation to my github once I get it done. The jist of the code is it offsets the bmp header at the beginning, opens littleschoolbus as an image. It pulls the bytes from the byte array from the image. Then, it offsets it by the header. Finally: it reads the bit and checks if it is between 32 and 126 (printable characters), and adds it to the flag string, and then it prints it. I will eventually make this a variable thing (allow the picture to change and still decode them). If I can figure out how to do that, I feel it will be a great part of my arsenal, and look nice on my Github. Enough rambling, here's the code: </p>
        <q>
          BMP_OFFSET = 54

          with open("littleschoolbus.bmp") as img:
            bytes = bytearray(img.read())

          bytes = bytes[BMP_OFFSET:]
          print("Pixel length: " + str(len(bytes)))

          flag = ""
          bits = ""

          for byte in bytes
            bits += str(byte & 1)
            if len(bits) == 8:
              chat = chr(int(bits,2))
                if ord(char) > 32 and ord(char) < 126:
                  flag += char
                bits = ""
          print("Result: ")
          print(flag[:45])
        </q>
    </div>
            <!-- Right -->
      <div class="col-sm-2 sidenav">
        <h3> Previous Placings in Competitions </h3>
        <p> No placings yet, but I hope to be participating in picoctf 2018. </p>
      </div>
    </div>
  </div>

</body>
</html>
