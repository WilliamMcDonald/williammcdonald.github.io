<!DOCTYPE html>
<html>
  <!--- 2071124516 --->
<head>
  <title> William McDonald: Template </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../css/custom.min.css">
  <link rel="stylesheet" href="../../css/nat.css">
  <script src="../../js/jquery.min.js"></script>
  <script src="../../js/bootstrap.min.js"></script>

</head>
<body>
<!--- add your bootstrap code  below this line--- >
<!-- This is for navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
		</div>
		<div class="collapse navbar-collapse" id="myNavbar">
		<ul class="nav navbar-nav">
			<li><a href="index.html"> Home </a></li>
			<li><a href="about.html"> About Me </a></li>
			<li><a href="tritech/index.php"> Tritech Summer School </a></li>
			<li><a href="https://github.com/WilliamMcDonald"> Github </a></li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"> Github Repositories <span class="caret"></span></a>
				<ul class="dropdown-menu">
					<li><a href="https://github.com/WilliamMcDonald/Arduino"> Arduino </a></a></li>
					<li><a href="https://github.com/WilliamMcDonald/HTML"> HTML </a></li>
					<li><a href="https://github.com/WilliamMcDonald/Java"> Java </a></li>
					<li><a href="https://github.com/WilliamMcDonald/Python"> Python </a></a></li>
					<li><a href="https://github.com/WilliamMcDonald/williammcdonald.github.io"> Github IO </a></li>
				</ul>
			</li>
		</ul>
	</div>
	</div>
</nav>


<!--- end of my code -->
<!--- do not delete this code -->

<script>
$(document).ready(function(){
  // Add scrollspy to <body>
  $('body').scrollspy({target: ".navbar", offset: 50});
  // Add smooth scrolling on all links inside the navbar
  $("#myNavbar a").on('click', function(event) {
    // Make sure this.hash has a value before overriding default behavior
    if (this.hash !== "") {
      // Prevent default anchor click behavior
      event.preventDefault();
      // Store hash
      var hash = this.hash;
      // Using jQuery's animate() method to add smooth page scroll
      // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 800, function(){

        // Add hash (#) to URL when done scrolling (default click behavior)
        window.location.hash = hash;
      });
    }  // End if
  });
});
</script>


<div id="header">
<h1> William McDonald </h1>
</div>

<!-- the web page layout -->
<div class="container-fluid text-center">
	<div class="row content">
        <!-- Left -->
		<div class="col-sm-2 sidenav">
      <h3> Contact Me </h3>
      <p> This is currently a Work in progress, and does not work </p>
      <p> If you would like to contact me, contact me at wmcdonald2k.git@gmail.com </p>
      <a href="contact/index.php" class="btn btn-primary disabled" role="button"> Form </a>
		</div>
        <!-- Middle -->
		<div class="col-sm-8 text-center">
      <h3> Instructions </h3>
        <p> Can you help me find the data in this <a href="problemFiles/LittleSchoolBus/littleschoolbus.bmp" target=_blank>littleschoolbus.bmp</a>? </p>
      <h3> Hints </h3>
        <p> Look at least significant bit encoding!! </p>
      <h3> Solution </h3>
        <p> So far, this is one of the most difficult obstacles I have overcame. I have heard of Least Significant Bit Encoding before, but I'd never messed with it. I just finished it, and it took from 3:00 PM Sunday October 8, 2017 until 8:00 pm Sunday October 8, 2017. I'm glad I finally got the right flag. The python code below is what I used to solve it, I know there's no documentation, that is simply because I was just trying to get it done. </p>
        <p> I will push one with documentation to my github once I get it done. The jist of the code is it offsets the bmp header at the beginning, opens littleschoolbus as an image. It pulls the bytes from the byte array from the image. Then, it offsets it by the header. Finally: it reads the bit and checks if it is between 32 and 126 (printable characters), and adds it to the flag string, and then it prints it. I will eventually make this a variable thing (allow the picture to change and still decode them). If I can figure out how to do that, I feel it will be a great part of my arsenal, and look nice on my Github. Enough rambling, here's the code: </p>
        <q>
          BMP_OFFSET = 54

          with open("littleschoolbus.bmp") as img:
            bytes = bytearray(img.read())

          bytes = bytes[BMP_OFFSET:]
          print("Pixel length: " + str(len(bytes)))

          flag = ""
          bits = ""

          for byte in bytes
            bits += str(byte & 1)
            if len(bits) == 8:
              chat = chr(int(bits,2))
                if ord(char) > 32 and ord(char) < 126:
                  flag += char
                bits = ""
          print("Result: ")
          print(flag[:45])
        </q>
    </div>
            <!-- Right -->
      <div class="col-sm-2 sidenav">
        <h3> Previous Placings in Competitions </h3>
        <p> No placings yet, but I hope to be participating in picoctf 2018. </p>
      </div>
    </div>
  </div>

</body>
</html>
